<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="logo.png" type="image/png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productivity Shop</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #0a0a0a; /* deep black */
      margin: 0;
      padding: 20px;
      color: #eee;
    }


    /* Sections */
    .shop-section {
      margin-bottom: 40px;
    }
    .section-title {
      font-size: 24px;
      font-weight: 600;
      margin: 20px 0 15px;
      text-align: left;
      color: #fff;
      padding-left: 5px;
      border-left: 6px solid #ff5e62;
    }

    /* Grid Layout */
    .shop-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 180px;
      justify-items: center;
    }

    /* History */
    .history {
      margin-top: 40px;
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 15px;
    }
    .history h2 {
      margin-bottom: 10px;
      color: #fff;
    }
    .history ul {
      list-style: none;
      padding: 0;
    }
    .history ul li {
      margin: 5px 0;
      padding: 10px;
      background: rgba(255,255,255,0.15);
      border-radius: 8px;
      color: #fff;
    }

    /* Coin Balance */
    .coin-balance {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #f7971e, #ffd200);
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: bold;
      color: #000;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      z-index: 1000;
    }

    /* Home Button */
    .home-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      background: linear-gradient(135deg, #ff5ac0, #ffea00);
      color: black;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      z-index: 1000;
    }
    .home-btn:hover {
      transform: scale(1.05);
    }

    h1 {
      font-size: 28px;
      color: #fff;
      margin: 10px 0 30px;
      text-align: center;
    }
    .pack-box {
  position: relative;
  width: 600px;
  height: 300px;
  border-radius: 14px;
  overflow: hidden;
  cursor: pointer;
}

/* Pack image */
.pack-box img {
  width: 100%;
  display: block;
}

/* Overlay bar */
.buy-overlay {
  position: absolute;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 85%;
  height: 40px;
  background: rgba(0,0,0,0.6);
  border-radius: 10px;
  overflow: hidden;
  border: 2px solid rgba(255,255,255,0.35);
}

/* Text */
.buy-overlay span {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: white;
  z-index: 3;
  pointer-events: none;
}

/* Fill bar */
.buy-overlay .fill {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #22c55e, #16a34a);
  transition: width 0.7s ease;
  z-index: 2;
}

/* Hover â†’ fill */
.pack-box:hover .fill {
  width: 100%;
}

/* Extra polish */
.pack-box:hover {
  transform: scale(1.03);
  transition: transform 0.25s ease;
}

  </style>
</head>
<body>
  <button onclick="window.location.href='index.html'" class="home-btn">ğŸ  Home</button>
  <header>
    <div class="coin-balance">Coins: <span id="coinBalance">0</span></div>
  </header>

  <h1>ğŸ Productivity Shop</h1>
  <!-- YOUTUBE -->
  <section class="shop-section">
    <h2 class="section-title">ğŸ“º Youtube</h2>
    <div class="shop-grid">
  
      <div class="pack-box">
        <img src="youtubepacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ“½ï¸ 10 Min Youtube Pass', 500)">
          <div class="fill"></div>
          <span>ğŸ“½ï¸ 10 Min Youtube Pass BUY â€“ 500 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="youtubepacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ“½ï¸ 15 Min Youtube Pass', 800)">
          <div class="fill"></div>
          <span>ğŸ“½ï¸ 15 Min Youtube Pass BUY â€“ 800 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="youtubepacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ“½ï¸ 20 Min Youtube Pass', 1000)">
          <div class="fill"></div>
          <span>ğŸ“½ï¸ 20 Min Youtube Pass BUY â€“ 1000 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="youtubepacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ“½ï¸ 30 Min Youtube Pass', 1500)">
          <div class="fill"></div>
          <span>ğŸ“½ï¸ 30 Min Youtube Pass BUY â€“ 1500 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="youtubepacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ“½ï¸ 60 Min Youtube Pass', 3000)">
          <div class="fill"></div>
          <span>ğŸ“½ï¸ 60 Min Youtube Pass BUY â€“ 3000 ğŸª™</span>
        </div>
      </div>
  
    </div>
  </section>
  
<br><br><br><br><br><br><br><br><br><br><br><br>
  <!-- ROBLOX -->
  <section class="shop-section">
    <h2 class="section-title">ğŸ•¹ï¸ Any Game</h2>
    <div class="shop-grid">
  
      <div class="pack-box">
        <img src="gamingpacket.png">
        <div class="buy-overlay" onclick="buyItem('âœˆï¸ 10 Min Any game', 600)">
          <div class="fill"></div>
          <span>âœˆï¸ 10 Min Any game BUY â€“ 600 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="gamingpacket.png">
        <div class="buy-overlay" onclick="buyItem('âœˆï¸ 15 Min Any game', 1000)">
          <div class="fill"></div>
          <span>âœˆï¸ 15 Min Any game BUY â€“ 1000 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="gamingpacket.png">
        <div class="buy-overlay" onclick="buyItem('âœˆï¸ 20 Min Any game', 1200)">
          <div class="fill"></div>
          <span>âœˆï¸ 20 Min Any game BUY â€“ 1200 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="gamingpacket.png">
        <div class="buy-overlay" onclick="buyItem('âœˆï¸ 30 Min Any game', 1500)">
          <div class="fill"></div>
          <span>âœˆï¸ 30 Min Any game BUY â€“ 1500 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="gamingpacket.png">
        <div class="buy-overlay" onclick="buyItem('âœˆï¸ 60 Min Any game', 3000)">
          <div class="fill"></div>
          <span>âœˆï¸ 60 Min Any game BUY â€“ 3000 ğŸª™</span>
        </div>
      </div>
  
    </div>
  </section>
  <br><br><br><br><br><br><br><br><br><br><br><br>

  <!-- VALORANT -->
  <section class="shop-section">
    <h2 class="section-title">ğŸ® Valorant</h2>
    <div class="shop-grid">
  
      <div class="pack-box">
        <img src="valorantpacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ® 30 Min Valorant', 1500)">
          <div class="fill"></div>
          <span>ğŸ® 30 Min Valorant BUY â€“ 1500 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="valorantpacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ® 60 Min Valorant', 3000)">
          <div class="fill"></div>
          <span>ğŸ® 60 Min Valorant BUY â€“ 3000 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="valorantpacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ® Competitive Valorant', 2500)">
          <div class="fill"></div>
          <span>ğŸ® Competitive Valorant BUY â€“ 2500 ğŸª™</span>
        </div>
      </div>
  
      <div class="pack-box">
        <img src="valorantpacket.png">
        <div class="buy-overlay" onclick="buyItem('ğŸ® Swiftplay/SpikeRush/TDM Valorant', 1500)">
          <div class="fill"></div>
          <span>ğŸ® Swiftplay/SpikeRush/TDM Valorant BUY â€“ 1500 ğŸª™</span>
        </div>
      </div>
  
    </div>
  </section>
  
  <br><br><br><br><br><br><br><br><br><br><br><br>
  <!-- HISTORY -->
  <section class="history">
    <h2>ğŸ›’ Purchase History</h2>
    <ul id="historyList"></ul>
  </section>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { getDatabase, ref, get, update, push, onValue } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";
  
    const firebaseConfig = {
  apiKey: "AIzaSyATCUjWe1bbp2yOiZwOzBATrHfU2CE7rPY",
  authDomain: "shushant-3b425.firebaseapp.com",
  projectId: "shushant-3b425",
  storageBucket: "shushant-3b425.firebasestorage.app",
  messagingSenderId: "770199015415",
  appId: "1:770199015415:web:bef917e226d613a469e8f2",
  measurementId: "G-C989SR0F8V"
};
  
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
  
    const balanceEl = document.getElementById("coinBalance");
    const historyList = document.getElementById("historyList");
    const userRef = ref(db, "users/aditya");
  
    // âœ… Live balance fetch
    const balanceRef = ref(db, "users/aditya/balance");
    onValue(balanceRef, (snapshot) => {
      if (snapshot.exists()) {
        balanceEl.innerText = "Balance: " + snapshot.val() + " ğŸª™";
      }
    });
  
    // âœ… Render purchase history
    const purchasesRef = ref(db, "users/aditya/shopPurchases");
    onValue(purchasesRef, (snapshot) => {
      historyList.innerHTML = "";
      const data = snapshot.val() || {};
      Object.values(data).forEach((purchase) => {
        let li = document.createElement("li");
        li.textContent = `${purchase.item} - ${purchase.date} (${purchase.cost} coins)`;
        historyList.appendChild(li);
      });
    });
  
    // âœ… Popup function
    function showPurchasePopup(message, color) {
      let popup = document.getElementById("purchasePopup");
      if (!popup) {
        popup = document.createElement("div");
        popup.id = "purchasePopup";
        popup.style.position = "fixed";
        popup.style.bottom = "20px";
        popup.style.left = "50%";
        popup.style.transform = "translateX(-50%)";
        popup.style.padding = "15px 25px";
        popup.style.borderRadius = "12px";
        popup.style.fontSize = "18px";
        popup.style.fontWeight = "bold";
        popup.style.color = "white";
        popup.style.display = "none";
        document.body.appendChild(popup);
      }
  
      popup.innerText = message;
      popup.style.background = color;
      popup.style.display = "block";
  
      setTimeout(() => {
        popup.style.display = "none";
      }, 5000);
    }
  
    // âœ… Buy item logic
    window.buyItem = async function(item, cost) {
      const snapshot = await get(userRef);
      const val = snapshot.val() || {};
      let currentBalance = val.balance || 0;
  
      if (currentBalance >= cost) {
        let newBalance = currentBalance - cost;
  
        // Update balance
        await update(userRef, { balance: newBalance });
  
        // Save purchase
        await push(purchasesRef, {
          item: item,
          cost: cost,
          date: new Date().toLocaleString()
        });
  
        showPurchasePopup(`âœ… You bought: ${item} (-${cost} coins)`, "linear-gradient(135deg, #43cea2, #185a9d)");
        new Audio("coin.mp3").play();

      } else {
        showPurchasePopup("âŒ Not enough coins!", "linear-gradient(135deg, #ff512f, #dd2476)");
      }
    };


    function buyItem(item, cost) {
  console.log("Buying:", item, cost);
}

  </script>
<div id="purchasePopup" style="display:none; position:fixed; 
bottom:10%; left:50%; transform:translate(-50%, -50%);
padding:15px 25px; border-radius:12px; font-size:18px; color:white; font-weight:bold;
background: linear-gradient(135deg, #43cea2, #185a9d); text-align:center; z-index:9999;">
</div>




</body>
</html>
